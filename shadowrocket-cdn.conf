# update: 20250608

# > Shadowrocket å¿«é€Ÿä½¿ç”¨æ–¹æ³•ï¼š
# > 1ã€é¦–é¡µ > æ·»åŠ èŠ‚ç‚¹ã€‚
# > 2ã€è®¾ç½® > å»¶è¿Ÿæµ‹è¯•æ–¹æ³•ï¼Œé€‰æ‹© CONNECTã€‚
# > 3ã€é¦–é¡µ > è¿é€šæ€§æµ‹è¯•ï¼Œé€‰æ‹©å¯ç”¨èŠ‚ç‚¹è¿æ¥ã€‚
# > é¦–æ¬¡å¯åŠ¨ä¼šæç¤ºã€å®‰è£… VPN é…ç½®æ–‡ä»¶ã€‘ï¼Œè¯·ç‚¹å‡»ã€å¥½ã€‘å’Œã€å…è®¸ã€‘æ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚

# > Shadowrocketæ‰“å¼€HTTPSè§£å¯†æ–¹æ³•ï¼š
# > 1 ç‚¹å‡»é…ç½®æ–‡ä»¶â“˜ - HTTPSè§£å¯† - è¯ä¹¦ - ç”Ÿæˆæ–°çš„CAè¯ä¹¦ - å®‰è£…è¯ä¹¦
# > 2 æ‰‹æœºè®¾ç½® - å·²ä¸‹è½½æè¿°æ–‡ä»¶ - å®‰è£…
# > 3 æ‰‹æœºè®¾ç½® - é€šç”¨ - å…³äºæœ¬æœº - è¯ä¹¦ä¿¡ä»»è®¾ç½® - å¼€å¯å¯¹åº”Shadowrocketè¯ä¹¦ä¿¡ä»»
# > â€œé…ç½®æ–‡ä»¶â€æ˜¯æŒ‡ï¼ˆé…ç½® > æœ¬åœ°æ–‡ä»¶ï¼‰ä¸­æ­£åœ¨ä½¿ç”¨çš„å¸¦âœ”ï¸æ ‡è®°çš„é…ç½®ã€‚å¤šè®¾å¤‡åŒæ­¥æ—¶ï¼Œå¦‚æœé…ç½®æ–‡ä»¶å·²ç»åŒ…å«è¯ä¹¦å¯†é’¥å†…å®¹ï¼Œå»ºè®®ç›´æ¥å®‰è£…ç°æœ‰è¯ä¹¦ï¼Œè€Œä¸è¦é‡æ–°ç”Ÿæˆæ–°çš„ CA è¯ä¹¦ã€‚

# > è¯·åœ¨ã€Œè®¾ç½®ã€-ã€ŒGeoLite2èµ„æ–™åº“ã€-ã€Œå›½å®¶ã€-ã€ŒURLã€å¡«å†™ä¸‹é¢é“¾æ¥
# > ä¾èµ–äº GeoIP2 æ•°æ®åº“åˆ¤æ–­åœ°å€æ‰€å±åœ°
# > [Country](https://testingcf.jsdelivr.net/gh/Loyalsoldier/geoip@release/Country-only-cn-private.mmdb)
# > [ASN](https://testingcf.jsdelivr.net/gh/Loyalsoldier/geoip@release/Country-asn.mmdb)


# > å»ºè®®æ·»åŠ è¯ä¹¦æ¨¡å—ï¼Œé¿å…åˆ‡æ¢é…ç½®å¯¼è‡´æ¨¡å—å¤±æ•ˆï¼š
# !name = è¯ä¹¦æ¨¡å—
# [MITM]
# enable = true
# ca-passphrase = Shadowrocket
# ca-p12 =

# > æ›´å¤šä½¿ç”¨è¯´æ˜ï¼Œå¯å‚é˜…ï¼š[Shadowrocketä½¿ç”¨æ‰‹å†Œ](https://github.com/LOWERTOP/Shadowrocket)

[General]
# å¯ç”¨ IPv6 æ”¯æŒã€‚false è¡¨ç¤ºä¸å¯ç”¨ï¼Œtrue è¡¨ç¤ºå¯ç”¨ã€‚å¯ç”¨ä¼šåŒæ—¶æŸ¥è¯¢ A è®°å½•å’Œ AAAA è®°å½•ï¼Œä¼˜å…ˆä½¿ç”¨ IPv4 åœ°å€è§£æã€‚
ipv6 = true
# æ—è·¯ç³»ç»Ÿã€‚å¦‚æœç¦ç”¨æ­¤é€‰é¡¹ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸€äº›ç³»ç»Ÿé—®é¢˜ï¼Œå¦‚æ¨é€é€šçŸ¥å»¶è¿Ÿã€‚
bypass-system = true
# ç½‘ç»œå…¼å®¹æ¨¡å¼ã€‚å½“å‚æ•°çš„å€¼è®¾å®šä¸º 3 æ—¶çš„æ•ˆæœç­‰åŒäºï¼šè®¾ç½® > ä»£ç† > ä»£ç†ç±»å‹ > Noneã€‚
compatibility-mode = 3
# è·³è¿‡ä»£ç†ã€‚æ­¤é€‰é¡¹å¼ºåˆ¶è¿™äº›åŸŸåæˆ– IP çš„è¿æ¥èŒƒå›´ç”± Shadowrocket TUN æ¥å£æ¥å¤„ç†ï¼Œè€Œä¸æ˜¯ Shadowrocket ä»£ç†æœåŠ¡å™¨ã€‚æ­¤é€‰é¡¹ç”¨äºè§£å†³ä¸€äº›åº”ç”¨ç¨‹åºçš„ä¸€äº›å…¼å®¹æ€§é—®é¢˜ã€‚
skip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,localhost,*.local,captive.apple.com,*.ccb.com,*.abchina.com.cn,*.psbc.com,www.baidu.com
# TUN æ—è·¯è·¯ç”±ã€‚Shadowrocket TUN æ¥å£åªèƒ½å¤„ç† TCP åè®®ã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥ç»•è¿‡æŒ‡å®šçš„ IP èŒƒå›´ï¼Œè®©å…¶ä»–åè®®é€šè¿‡ã€‚
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32, 239.255.255.250/32

# DNS è¦†å†™ã€‚ä½¿ç”¨æ™®é€š DNS æˆ–åŠ å¯† DNSï¼ˆå¦‚ DoHã€DoQã€DoT ç­‰ï¼‰è¦†ç›–é»˜è®¤çš„ç³»ç»Ÿ DNSã€‚å¡« system è¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿ DNSã€‚
# æ™®é€š DNS ç¤ºä¾‹ï¼š
# dns-server = 223.5.5.5,119.29.29.29

# åŠ å¯† DNS ç¤ºä¾‹ï¼š
# 1ã€DNS-over-HTTPSï¼ˆDoHï¼‰
# dns-server = https://dns.alidns.com/dns-query
# 2ã€DNS-over-HTTP/3ï¼ˆDoH3ï¼‰
# dns-server = h3://dns.alidns.com/dns-query
# 3ã€DNS-over-QUICï¼ˆDoQï¼‰
# dns-server = quic://223.5.5.5
# 4ã€DNS-over-TLSï¼ˆDoTï¼‰
# dns-server = tls://223.5.5.5
dns-server = h3://dns.alidns.com/dns-query, https://dns.alidns.com/dns-query, https://doh.pub/dns-query
# å¤‡ç”¨ DNSã€‚å½“è¦†å†™ DNS æŸ¥è¯¢å¤±è´¥æˆ–æŸ¥è¯¢æ—¶é—´è¶…è¿‡ 2 ç§’ï¼ŒShadowrocket ä¼šè‡ªåŠ¨å›é€€å¤‡ç”¨ DNSã€‚å¦‚éœ€æŒ‡å®šå¤šä¸ª DNSï¼Œå¯ç”¨é€—å·åˆ†éš”ã€‚system è¡¨ç¤ºå›é€€åˆ°ç³»ç»Ÿ DNSã€‚
fallback-dns-server = https://doh.apad.pro/dns-query

# DNS åŠ«æŒã€‚æœ‰äº›è®¾å¤‡æˆ–è½¯ä»¶æ€»æ˜¯ä½¿ç”¨ç¡¬ç¼–ç çš„ DNS æœåŠ¡å™¨ï¼Œä¾‹å¦‚ Netflix é€šè¿‡ Google DNS(8.8.8.8æˆ–8.8.4.4)å‘é€è¯·æ±‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ­¤é€‰é¡¹æ¥åŠ«æŒæŸ¥è¯¢ã€‚
hijack-dns = *:53
icmp-auto-reply = true
private-ip-answer = true
# ç›´è¿åŸŸåè§£æå¤±è´¥åä½¿ç”¨ä»£ç†ã€‚false è¡¨ç¤ºä¸å¯ç”¨ã€‚
dns-direct-fallback-proxy = false
udp-policy-not-supported-behaviour = REJECT

# è‡ªåŠ¨æ›´æ–°åœ°å€
update-url = https://testingcf.jsdelivr.net/gh/sinspired/proxies@main/shadowrocket-cdn.conf

[Proxy]
# æ·»åŠ æœ¬åœ°èŠ‚ç‚¹ã€‚è¯¥é¡¹ç›®çš„èŠ‚ç‚¹è§£ææ˜¯ä¸ºäº†å…¼å®¹éƒ¨åˆ†é…ç½®æ–‡ä»¶ï¼Œä¸èƒ½å½“ä½œShadowrocketæ·»åŠ èŠ‚ç‚¹çš„ä¼˜å…ˆé€‰æ‹©ã€‚

[Proxy Group]
# ä»£ç†åˆ†ç»„ç±»å‹ï¼š
# select:æ‰‹åŠ¨åˆ‡æ¢èŠ‚ç‚¹ã€‚
# url-test:è‡ªåŠ¨åˆ‡æ¢å»¶è¿Ÿæœ€ä½èŠ‚ç‚¹ã€‚
# fallback:èŠ‚ç‚¹æŒ‚æ‰æ—¶è‡ªåŠ¨åˆ‡æ¢å…¶ä»–å¯ç”¨èŠ‚ç‚¹ã€‚
# load-balance:ä¸åŒè§„åˆ™çš„è¯·æ±‚ä½¿ç”¨åˆ†ç»„é‡Œçš„ä¸åŒèŠ‚ç‚¹è¿›è¡Œè¿æ¥ã€‚
# random:éšæœºä½¿ç”¨åˆ†ç»„é‡Œçš„ä¸åŒèŠ‚ç‚¹è¿›è¡Œè¿æ¥ã€‚

# policy-regex-filterè¡¨ç¤ºæ­£åˆ™å¼æˆ–å…³é”®è¯ç­›é€‰ï¼Œå¸¸ç”¨å†™æ³•ï¼š
# 1ã€ä¿ç•™èŠ‚ç‚¹åç§°å«æœ‰å…³é”®è¯Aå’ŒBçš„èŠ‚ç‚¹:
# (?=.*(A))^(?=.*(B))^.*$
# 2ã€ä¿ç•™èŠ‚ç‚¹åç§°å«æœ‰å…³é”®è¯Aæˆ–Bçš„èŠ‚ç‚¹:
# A|B
# 3ã€æ’é™¤èŠ‚ç‚¹åç§°å«æœ‰å…³é”®è¯Aæˆ–Bçš„èŠ‚ç‚¹:
# ^((?!(A|B)).)*$
# 4ã€ä¿ç•™èŠ‚ç‚¹åç§°å«æœ‰å…³é”®è¯Aå¹¶æ’é™¤å«æœ‰å…³é”®è¯Bçš„èŠ‚ç‚¹:
# (?=.*(A))^((?!(B)).)*$

# ä»£ç†åˆ†ç»„å…¶ä»–è®¾ç½®å‚æ•°ï¼š
# interval:æŒ‡å®šé—´éš”å¤šé•¿æ—¶é—´åéœ€è¦é‡æ–°å‘èµ·æµ‹è¯•ã€‚
# timeout:å¦‚æœæµ‹è¯•åœ¨è¶…æ—¶å‰æœªå®Œæˆï¼Œæ”¾å¼ƒæµ‹è¯•ã€‚
# tolerance:åªæœ‰å½“æ–°ä¼˜èƒœè€…çš„åˆ†æ•°é«˜äºæ—§ä¼˜èƒœè€…çš„åˆ†æ•°åŠ ä¸Šå…¬å·®æ—¶ï¼Œæ‰ä¼šè¿›è¡Œçº¿è·¯æ›´æ¢ã€‚
# url:æŒ‡å®šè¦æµ‹è¯•çš„URLã€‚

# æ‹’ç»è®¿é—®,å¯é€‰æ‹©ç›´è¿
éšç§é˜²æŠ¤ = select, REJECT, DIRECT
å¹¿å‘Šæ‹¦æˆª = select, REJECT, DIRECT
# ä¼˜å…ˆç›´è¿,æ”¯æŒåˆ‡æ¢åœ°åŒº
è‹¹æœæœåŠ¡ = select, DIRECT, PROXY, é¦™æ¸¯ä¼˜é€‰, å°æ¹¾ä¼˜é€‰, æ—¥æœ¬ä¼˜é€‰, ç‹®åŸä¼˜é€‰, ç¾å›½ä¼˜é€‰, éŸ©å›½ä¼˜é€‰, å…¶ä»–èŠ‚ç‚¹
OneDrive = select, DIRECT, PROXY, é¦™æ¸¯ä¼˜é€‰, å°æ¹¾ä¼˜é€‰, æ—¥æœ¬ä¼˜é€‰, ç‹®åŸä¼˜é€‰, ç¾å›½ä¼˜é€‰, éŸ©å›½ä¼˜é€‰, å…¶ä»–èŠ‚ç‚¹
å¾®è½¯æœåŠ¡ = select, DIRECT, PROXY, é¦™æ¸¯ä¼˜é€‰, å°æ¹¾ä¼˜é€‰, æ—¥æœ¬ä¼˜é€‰, ç‹®åŸä¼˜é€‰, ç¾å›½ä¼˜é€‰, éŸ©å›½ä¼˜é€‰, å…¶ä»–èŠ‚ç‚¹
PAYPAL = select, DIRECT, PROXY, é¦™æ¸¯ä¼˜é€‰, å°æ¹¾ä¼˜é€‰, æ—¥æœ¬ä¼˜é€‰, ç‹®åŸä¼˜é€‰, ç¾å›½ä¼˜é€‰, éŸ©å›½ä¼˜é€‰, å…¶ä»–èŠ‚ç‚¹
å“”å“©å“”å“© = select, DIRECT, PROXY, é¦™æ¸¯ä¼˜é€‰, å°æ¹¾ä¼˜é€‰, æ—¥æœ¬ä¼˜é€‰, ç‹®åŸä¼˜é€‰, ç¾å›½ä¼˜é€‰, éŸ©å›½ä¼˜é€‰, å…¶ä»–èŠ‚ç‚¹
å¾®ä¿¡æ¶ˆæ¯ = select, DIRECT, PROXY, é¦™æ¸¯ä¼˜é€‰, å°æ¹¾ä¼˜é€‰, æ—¥æœ¬ä¼˜é€‰, ç‹®åŸä¼˜é€‰, ç¾å›½ä¼˜é€‰, éŸ©å›½ä¼˜é€‰, å…¶ä»–èŠ‚ç‚¹
# å…¶å®ƒå›½å†…æœåŠ¡
å›½å†…åª’ä½“ = select, DIRECT, PROXY, é¦™æ¸¯ä¼˜é€‰, å°æ¹¾ä¼˜é€‰, æ—¥æœ¬ä¼˜é€‰, ç‹®åŸä¼˜é€‰, ç¾å›½ä¼˜é€‰, éŸ©å›½ä¼˜é€‰, å…¶ä»–èŠ‚ç‚¹, è‡ªåŠ¨é€‰æ‹©
å›½å†…ç›´è¿ = select, DIRECT, PROXY, é¦™æ¸¯ä¼˜é€‰, å°æ¹¾ä¼˜é€‰, æ—¥æœ¬ä¼˜é€‰, ç‹®åŸä¼˜é€‰, ç¾å›½ä¼˜é€‰, éŸ©å›½ä¼˜é€‰, å…¶ä»–èŠ‚ç‚¹, è‡ªåŠ¨é€‰æ‹©
å…œåº•åˆ†æµ= select, DIRECT, PROXY, é¦™æ¸¯ä¼˜é€‰, å°æ¹¾ä¼˜é€‰, æ—¥æœ¬ä¼˜é€‰, ç‹®åŸä¼˜é€‰, ç¾å›½ä¼˜é€‰, éŸ©å›½ä¼˜é€‰, å…¶ä»–èŠ‚ç‚¹, è‡ªåŠ¨é€‰æ‹©

# ----------------------------------------
# è‡ªåŠ¨é€‰æ‹©
å…¨çƒä»£ç† = select, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯ä¼˜é€‰, å°æ¹¾ä¼˜é€‰, æ—¥æœ¬ä¼˜é€‰, ç‹®åŸä¼˜é€‰, ç¾å›½ä¼˜é€‰,éŸ©å›½ä¼˜é€‰, å…¶ä»–èŠ‚ç‚¹, PROXY
GithubæœåŠ¡ = select, è‡ªåŠ¨é€‰æ‹©, PROXY, é¦™æ¸¯ä¼˜é€‰, å°æ¹¾ä¼˜é€‰, æ—¥æœ¬ä¼˜é€‰, ç‹®åŸä¼˜é€‰, ç¾å›½ä¼˜é€‰, éŸ©å›½ä¼˜é€‰, å…¶ä»–èŠ‚ç‚¹

# æ‰‹åŠ¨èŠ‚ç‚¹,æ–¹ä¾¿æµ‹è¯•ç½‘ç»œæƒ…å†µ
è°·æ­ŒæœåŠ¡ = select, PROXY, é¦™æ¸¯ä¼˜é€‰, å°æ¹¾ä¼˜é€‰, æ—¥æœ¬ä¼˜é€‰, ç‹®åŸä¼˜é€‰, ç¾å›½ä¼˜é€‰, éŸ©å›½ä¼˜é€‰, å…¶ä»–èŠ‚ç‚¹, è‡ªåŠ¨é€‰æ‹©

# é»˜è®¤é€‰æ‹©åŒºåŸŸ,å‡å°‘å°ç¦é£é™©
Tgåˆ†æµ = select, é¦™æ¸¯ä¼˜é€‰, å°æ¹¾ä¼˜é€‰, æ—¥æœ¬ä¼˜é€‰, ç‹®åŸä¼˜é€‰, ç¾å›½ä¼˜é€‰, éŸ©å›½ä¼˜é€‰, PROXY, è‡ªåŠ¨é€‰æ‹©, DIRECT
Spotifyåˆ†æµ = select, é¦™æ¸¯ä¼˜é€‰, å°æ¹¾ä¼˜é€‰, æ—¥æœ¬ä¼˜é€‰, ç‹®åŸä¼˜é€‰, ç¾å›½ä¼˜é€‰, éŸ©å›½ä¼˜é€‰, PROXY, è‡ªåŠ¨é€‰æ‹©, DIRECT

# å›½é™…åª’ä½“æ–¹ä¾¿åˆ‡æ¢åœ°åŒº
Twitteråˆ†æµ = select, é¦™æ¸¯ä¼˜é€‰, å°æ¹¾ä¼˜é€‰, æ—¥æœ¬ä¼˜é€‰, ç‹®åŸä¼˜é€‰, ç¾å›½ä¼˜é€‰,éŸ©å›½ä¼˜é€‰, å…¶ä»–èŠ‚ç‚¹, PROXY
Tiktokåˆ†æµ = select, é¦™æ¸¯ä¼˜é€‰, å°æ¹¾ä¼˜é€‰, æ—¥æœ¬ä¼˜é€‰, ç‹®åŸä¼˜é€‰, ç¾å›½ä¼˜é€‰,éŸ©å›½ä¼˜é€‰, å…¶ä»–èŠ‚ç‚¹, PROXY
Netflixåˆ†æµ = select, å›½é™…åª’ä½“, é¦™æ¸¯ä¼˜é€‰, å°æ¹¾ä¼˜é€‰, æ—¥æœ¬ä¼˜é€‰, ç‹®åŸä¼˜é€‰, ç¾å›½ä¼˜é€‰,éŸ©å›½ä¼˜é€‰, å…¶ä»–èŠ‚ç‚¹, PROXY

# èŠ‚ç‚¹ç­›é€‰
å›½é™…åª’ä½“ = url-test, select=0, interval=600, tolerance=30, timeout=5, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?i)(?=.*\bYoutube\b|disney|Netflix|youtube|YT|media|æµåª’ä½“)^(?=.*(æ¸¯|å°|æ—¥|ç¾|éŸ©|æ–°|é˜¿æ‹‰ä¼¯|å¾·|èŠ¬å…°|HK|TW|JP|US|KR|SG|CMCC|CT|GB))^.*$
Youtubeä¼˜é€‰ = url-test, interval=600, tolerance=30, timeout=5, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?i)(?=.*\bYoutube\b|youtube|YT|YouTube)^(?=.*(æ¸¯|å°|æ—¥|ç¾|éŸ©|æ–°|é˜¿æ‹‰ä¼¯|å¾·|èŠ¬å…°|HK|TW|JP|US|KR|SG|CMCC|CT|GB))^.*$

# ai ç­›é€‰
äººå·¥æ™ºèƒ½ = select, OpenAIä¼˜é€‰, Geminiä¼˜é€‰, Youtubeä¼˜é€‰, PROXY
OpenAIä¼˜é€‰ = select, GPT_HK, GPT_TW, GPT_US, GPT_JP, GPT_Others
GPT_HK = url-test, select=0, interval=600, tolerance=30, timeout=5, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?i)(?=.*\bOpenai\b|openai|chatgpt|gpt)^(?=.*(æ¸¯|HK))^.*$
GPT_TW = url-test, select=0, interval=600, tolerance=30, timeout=5, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?i)(?=.*\bOpenai\b|openai|chatgpt|gpt)^(?=.*(å°|TW))^.*$
GPT_US = url-test, select=0, interval=600, tolerance=30, timeout=5, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?i)(?=.*\bOpenai\b|openai|chatgpt|gpt)^(?=.*(ç¾|US))^.*$
GPT_JP = url-test, select=0, interval=600, tolerance=30, timeout=5, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?i)(?=.*\bOpenai\b|openai|chatgpt|gpt)^(?=.*(æ—¥|JP))^.*$
GPT_Others = url-test, select=0, interval=600, tolerance=30, timeout=5, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?i)(?=.*\bOpenai\b|openai|chatgpt|gpt)^(?=.*(éŸ©|æ–°|é˜¿æ‹‰ä¼¯|å¾·|èŠ¬å…°|KR|SG|CMCC|CT|GB))^.*$

Geminiä¼˜é€‰ = url-test, select=0, interval=600, tolerance=30, timeout=5, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?i)(?=.*\bGemini\b|gemini|GEMINI)^(?=.*(æ¸¯|å°|æ—¥|ç¾|éŸ©|æ–°|é˜¿æ‹‰ä¼¯|å¾·|èŠ¬å…°|HK|TW|JP|US|KR|SG|CMCC|CT|GB))^.*$

# åœ°åŒºç­›é€‰
è‡ªåŠ¨é€‰æ‹© = url-test, select=0, interval=600, tolerance=30, timeout=5, url=http://www.gstatic.com/generate_204, policy-regex-filter=^((?!(GiB|cn|ä¸­å›½|ru|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®|(?i)åŠ å…¥|æ›´å¤š)).)*$
é¦™æ¸¯ä¼˜é€‰ = url-test, select=0, interval=600, tolerance=30, timeout=5, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?i)(?=.*\bHK\b|ğŸ‡­ğŸ‡°|é¦™æ¸¯|æ¸¯|é¦™æ±Ÿ|Hong\s?Kong)
å°æ¹¾ä¼˜é€‰ =  url-test, select=0, interval=600, tolerance=30, timeout=5, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?i)(?=.*\bTW\b|ğŸ‡¹ğŸ‡¼|å°æ¹¾|Taiwan|Taipei|å°åŒ—|å°|å°ä¸­|æ–°åŒ—|å½°åŒ–)
æ—¥æœ¬ä¼˜é€‰ =  url-test, select=0, interval=600, tolerance=30, timeout=5, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?i)(?=.*\bJP\b|ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|æ—¥|Japan|Tokyo|ä¸œäº¬|å¤§é˜ª|äº¬æ—¥)
ç‹®åŸä¼˜é€‰ =  url-test, select=0, interval=600, tolerance=30, timeout=5, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?i)(?=.*\bSG\b|ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|Singapore)
ç¾å›½ä¼˜é€‰ =  url-test, select=0, interval=600, tolerance=30, timeout=5, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?i)(?=.*\bUS\b|ğŸ‡ºğŸ‡¸|ç¾å›½|States|American|å‡¤å‡°åŸ|æ´›æ‰çŸ¶|è¥¿é›…å›¾|èŠåŠ å“¥|çº½çº¦|ç¾)
éŸ©å›½ä¼˜é€‰ = url-test, select=0, interval=600, tolerance=30, timeout=5, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?=.*(éŸ©|é¦–å°”|KR|(?i)Korea))^((?!(ç¾|æ—¥|å°|æ¸¯|æ–°)).)*$
å…¶ä»–èŠ‚ç‚¹ = url-test, select=0, interval=600, tolerance=30, timeout=5, url=http://www.gstatic.com/generate_204, policy-regex-filter=^((?!(ç½‘æ˜“|ç¾|US|(?i)States|American|æ—¥|JP|(?i)Japan|å°|TW|(?i)Taiwan|éŸ©|KR|(?i)Korea|æ¸¯|HK|(?i)Hong|æ–°|SG|(?i)Singapore|(?i)åŠ å…¥|æ›´å¤š|GiB|cn|ru|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®)).)*$

[Rule]
# å…³äºå±è”½443ç«¯å£çš„UDPæµé‡çš„è§£é‡Šå†…å®¹ï¼šHTTP3/QUICåè®®å¼€å§‹æµè¡Œï¼Œä½†æ˜¯å›½å†…ISPå’Œå›½é™…å‡ºå£çš„UDPä¼˜å…ˆçº§éƒ½å¾ˆä½ï¼Œè¡¨ç°å¾ˆå·®ï¼Œå±è”½æ‰ä»¥å¼ºåˆ¶å›é€€HTTP2/HTTP1.
# AND,((PROTOCOL,UDP),(DST-PORT,443)),REJECT-NO-DROP

# å¯ä¿¡æœåŠ¡ï¼Œæ¯”å¦‚è‹¹æœï¼Œæœ€é«˜ä¼˜å…ˆçº§
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/GitHub/GitHub.list, GithubæœåŠ¡
DOMAIN-SET, https://testingcf.jsdelivr.net/gh/Sinspired/Shadowrocket@main/Rules/Apple_Domain.list, è‹¹æœæœåŠ¡
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Apple/Apple.list, è‹¹æœæœåŠ¡
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/PayPal/PayPal.list, PAYPAL
# æœ¬åœ°å±€åŸŸç½‘åœ°å€çš„è§„åˆ™é›†ã€‚
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Lan/Lan.list, DIRECT
RULE-SET, https://testingcf.jsdelivr.net/gh/Sinspired/Shadowrocket@main/Rules/Direct.list, DIRECT
# å¹¿å‘Šæ‹¦æˆªå’Œéšç§é˜²æŠ¤
RULE-SET, https://testingcf.jsdelivr.net/gh/Cats-Team/AdRules@main/adrules.list, å¹¿å‘Šæ‹¦æˆª
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Advertising/Advertising.list, å¹¿å‘Šæ‹¦æˆª
RULE-SET, https://testingcf.jsdelivr.net/gh/Sinspired/Shadowrocket@main/Rules/Hijacking.list, éšç§é˜²æŠ¤
RULE-SET, https://testingcf.jsdelivr.net/gh/Sinspired/Shadowrocket@main/Rules/Privacy_Domain.list, éšç§é˜²æŠ¤
RULE-SET, https://testingcf.jsdelivr.net/gh/Sinspired/Shadowrocket@main/Rules/Privacy.list, éšç§é˜²æŠ¤

# å›½é™…æœåŠ¡
# äººå·¥æ™ºèƒ½
RULE-SET, https://testingcf.jsdelivr.net/gh/Sinspired/Shadowrocket@main/Rules/Gemini.list, GEMINIä¼˜é€‰
RULE-SET, https://testingcf.jsdelivr.net/gh/Sinspired/Shadowrocket@main/Rules/OpenAI.list, OPENAIä¼˜é€‰
RULE-SET, https://testingcf.jsdelivr.net/gh/Sinspired/Shadowrocket@main/Rules/Copilot.list, äººå·¥æ™ºèƒ½
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Claude/Claude.list, äººå·¥æ™ºèƒ½
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Anthropic/Anthropic.list, äººå·¥æ™ºèƒ½
RULE-SET, https://testingcf.jsdelivr.net/gh/sinspired/Shadowrocket@main/Rules/Grok.list, äººå·¥æ™ºèƒ½
# å¾®è½¯æœåŠ¡
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/OneDrive/OneDrive.list, OneDrive
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Microsoft/Microsoft.list, å¾®è½¯æœåŠ¡
# GoogleæœåŠ¡
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/YouTube/YouTube.list, Youtubeä¼˜é€‰
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Google/Google.list, è°·æ­ŒæœåŠ¡
# ç¤¾äº¤åª’ä½“
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Telegram/Telegram.list, Tgåˆ†æµ
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Twitter/Twitter.list, Twitteråˆ†æµ
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/TikTok/TikTok.list, Tiktokåˆ†æµ
# å›½é™…åª’ä½“
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Spotify/Spotify.list, Spotifyåˆ†æµ
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Netflix/Netflix.list, Netflixåˆ†æµ
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Disney/Disney.list, å›½é™…åª’ä½“
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/HBO/HBO.list, å›½é™…åª’ä½“
RULE-SET, https://testingcf.jsdelivr.net/gh/Sinspired/Shadowrocket@main/Rules/GlobalMedia_Domain.list, å›½é™…åª’ä½“
RULE-SET, https://testingcf.jsdelivr.net/gh/Sinspired/Shadowrocket@main/Rules/GlobalMedia.list, å›½é™…åª’ä½“

# å…¨çƒä»£ç†
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Facebook/Facebook.list, å…¨çƒä»£ç†
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Accuweather/Accuweather.list, å…¨çƒä»£ç†
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Amazon/Amazon.list, å…¨çƒä»£ç†
DOMAIN-SET, https://testingcf.jsdelivr.net/gh/Sinspired/Shadowrocket@main/Rules/Global_Domain.list, å…¨çƒä»£ç†
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Global/Global.list, å…¨çƒä»£ç†
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Proxy/Proxy.list, å…¨çƒä»£ç†

# å›½å†…æœåŠ¡
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/WeChat/WeChat.list, å¾®ä¿¡æ¶ˆæ¯
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/BiliBili/BiliBili.list, å“”å“©å“”å“©
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/AliPay/AliPay.list, å›½å†…ç›´è¿
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/JingDong/JingDong.list, å›½å†…ç›´è¿
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/MeiTuan/MeiTuan.list, å›½å†…ç›´è¿
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/DiDi/DiDi.list, å›½å†…ç›´è¿
# å›½å†…åª’ä½“
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Weibo/Weibo.list, å›½å†…åª’ä½“
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/NetEaseMusic/NetEaseMusic.list, å›½å†…åª’ä½“
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/iQIYI/iQIYI.list, å›½å†…åª’ä½“
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/DouYin/DouYin.list, å›½å†…åª’ä½“
RULE-SET, https://testingcf.jsdelivr.net/gh/Sinspired/Shadowrocket@main/Rules/ChinaMedia.list, å›½å†…åª’ä½“
# å›½å†…ç›´è¿
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Alibaba/Alibaba.list, å›½å†…ç›´è¿
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Sina/Sina.list, å›½å†…ç›´è¿
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Zhihu/Zhihu.list, å›½å†…ç›´è¿
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/XiaoHongShu/XiaoHongShu.list, å›½å†…ç›´è¿
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/Baidu/Baidu.list, å›½å†…ç›´è¿
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/DouBan/DouBan.list, å›½å†…ç›´è¿
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/NetEase/NetEase.list, å›½å†…ç›´è¿
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/ByteDance/ByteDance.list, å›½å†…ç›´è¿

DOMAIN-SET, https://testingcf.jsdelivr.net/gh/Sinspired/Shadowrocket@main/Rules/China_Domain.list, å›½å†…ç›´è¿
RULE-SET, https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Shadowrocket/China/China.list, å›½å†…ç›´è¿
GEOIP, CN, å›½å†…ç›´è¿
# ä½¿ç”¨ç›´è¿å…œåº•
FINAL, å…œåº•åˆ†æµ

[Host]
localhost = 127.0.0.1
# åŸŸåæŒ‡å®š DNS æœåŠ¡å™¨ï¼š
# *.apple.com = server:system
# *.icloud.com = server:system
# *.bilibili.com = server:system
# *.bilibili.net = server:system
# *.biliapi.com = server:system
# *.biliapi.net = server:system

[URL Rewrite]
# Googleæœç´¢å¼•æ“é˜²è·³è½¬çš„é‡å†™ã€‚
^https?://(www.)?g.cn https://www.google.com 302
^https?://(www.)?google.cn https://www.google.com 302

# ======= huggingface é•œåƒ ======= #
^https?://(www\.)?huggingface\.co/(.*) https://hf-mirror.com/$2 302
# ======= æ²¹ç®¡è§†é¢‘å¹¿å‘Šè¯·æ±‚ ======= #
(^https?:\/\/[\w-]+\.googlevideo\.com\/(?!dclk_video_ads).+?)&ctier=L(&.+?),ctier,(.+) $1$2$3 302
^https?:\/\/[\w-]+\.googlevideo\.com\/(?!(dclk_video_ads|videoplayback\?)).+&oad - reject
# ======= Google DNS åŠ«æŒ ======= #
^https?://(www\.)?dns.google(:443)/query https://doh.pub/dns-query 302
^https?://(www\.)?dns.google(:443)/resolve https://223.5.5.5/resolve 302

# ======= éœ€è¦æ‰‹åŠ¨æ·»åŠ æ¨¡å—ï¼ˆæ¨¡å—éœ€å®šæœŸæ›´æ–°ç¡®ä¿å¯ç”¨æ€§ï¼Œæ¨¡å—å®‰è£…é‡åˆ°è¶…æ—¶å°ç«ç®­åˆ‡å…¨å±€ä»£ç†å®‰è£…ï¼‰ ====== #
# > 1 ï¼ˆå»ºè®®æ·»åŠ ï¼‰Youtubeå»å¹¿å‘ŠåŠåŠŸèƒ½å¢å¼º https://github.com/Maasea/sgmodule/raw/master/YouTube.Enhance.sgmodule
# > 2 ï¼ˆå»ºè®®æ·»åŠ ï¼‰å¢¨é±¼å»å¹¿å‘Šåˆé›†[å»å¼€å±2.0|å–œé©¬æ‹‰é›…|å“”å“©å“”å“©|å¾®åš|æ²¹ç®¡|KEEP|è´´å§|çŸ¥ä¹|é«˜å¾·åœ°å›¾|å°çº¢ä¹¦|ç½‘æ˜“äº‘|ç™¾åº¦åœ°å›¾|ä»€ä¹ˆå€¼å¾—ä¹°|èœé¸Ÿ|å½©äº‘å¤©æ°”|è±†ç“£ç½‘é¡µ] https://github.com/ddgksf2013/Modules/raw/main/Adblock.sgmodule

[MITM]
# > Shadowrocketä»…ä¼šè§£å¯†hostnameæŒ‡å®šçš„åŸŸåçš„è¯·æ±‚ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨å‰ç¼€ - æ’é™¤ç‰¹å®šä¸»æœºåï¼Œå¦‚ -*.example.com
# > iOSç³»ç»Ÿå’ŒæŸäº›åº”ç”¨æœ‰ä¸¥æ ¼çš„å®‰å…¨ç­–ç•¥ï¼Œä»…ä¿¡ä»»æŸäº›ç‰¹å®šçš„è¯ä¹¦ï¼Œå¯¹è¿™äº›åŸŸåå¯åŠ¨è§£å¯†å¯èƒ½å¯¼è‡´é—®é¢˜ï¼Œå¦‚ *.apple.comï¼Œ*.icloud.comã€‚
hostname = *.googlevideo.com, *.google.cn, -*.apple.com, -consumer.fcbox.com, -*huami.com, -weather-data.apple.com, -*amemv.com, -*snssdk.com, -www.google.com
enable = true
ca-passphrase = Shadowrocket